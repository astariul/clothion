{%  extends 'base.html' %}
{% block content %}
<div id="loader" class="flex flex-col max-w-md p-6 rounded-md sm:p-10 bg-gray-50 text-gray-800">
    <div class="flex items-center justify-center space-x-2">
        <div class="w-4 h-4 rounded-full animate-pulse bg-teal-600"></div>
        <div class="w-4 h-4 rounded-full animate-pulse bg-teal-600"></div>
        <div class="w-4 h-4 rounded-full animate-pulse bg-teal-600"></div>
    </div>
</div>
<div id="content" class="flex items-center p-16 bg-gray-50 text-gray-800 rounded-md hidden">
    {{ integration_id }}
    {{ table_id }}
</div>
<div id="error" class="flex items-center p-16 bg-gray-50 text-gray-800 rounded-md hidden"></section>
    <!-- <div class="container flex flex-col items-center justify-center px-5 mx-auto my-8"> -->
        <div class="max-w-md text-center">
            <h2 class="mb-8 font-extrabold text-9xl text-gray-400">
                <span class="sr-only">Error</span>4044444
            </h2>
            <p class="text-2xl mb-16 font-semibold md:text-xl">Huh ? What ??</p>
            <a rel="noopener noreferrer" href="/" class="px-8 py-3 font-semibold rounded bg-teal-600 text-gray-50">Back to homepage</a>
        </div>
    <!-- </div> -->
</div>
{% endblock %}
{% block script %}
<script>
    const data_url = window.location.href + 'schema';
    fetch(data_url)
        .then(response => {
            if (response.status == 404) {
                document.getElementById("loader").classList.add("hidden");
                document.getElementById("error").classList.remove("hidden");
            } else if (response.status == 200) {
                document.getElementById("loader").classList.add("hidden");
                document.getElementById("content").classList.remove("hidden");
                response.json().then(data => {
                    console.log(data)
                })
            }
        });
</script>
{% endblock %}
